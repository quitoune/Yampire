{% extends 'base.html.twig' %}

{% block title %} Photo: {{ photo.nom }} {% endblock %}

{% block body %}
	<div class="row photo">
		<div class="col-12">
    	    {{ photo(photo, "w-auto") | raw }}
    	</div>
    	<div class="col-12" id="photo_tag">
    		<div class="center_div text-center">
        		{% for tag in photo.tags %}
        			<span class="badge badge-pill badge-yampire">
        			    {{ tag.nom }} 
        			    <span class="supprimer" data-link="{{ path('photo_tag_supprimer', { 'photo_id': photo.id, 'tag_id': tag.id }) }}">
                	    	<i class="fas fa-times"></i>
                	    </span>
        			</span>
                {% endfor %}
                {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                	<span class="badge badge-pill badge-yampire ajouter" href="{{ path('photo_tag_ajouter', { 'photo_id': photo.id }) }}">
                		<i class="fas fa-plus"></i>
                	</span>
    				<span id="add_tag"></span>
				{% endif %}
    		</div>
    	</div>
	</div>
    
    <div class="modal" tabindex="-1" role="dialog" id="bloc_modal">
        <div class="modal-dialog" role="document">
            <div class="modal-content" id ="modal_photo">
            </div>
        </div>
    </div>
{% endblock %}
{% block javascripts %}
    <script src="{{ asset('js/tabs.js') }}"></script>
	<script type="text/javascript">
	$( document ).ready(function() {
		$(".supprimer").click(function(){
			Ajax($(this).data('link'), "#photo_tag");
		});
        OuvrirModal('.ajouter', '#modal_photo');
	});
	</script>
{% endblock %}